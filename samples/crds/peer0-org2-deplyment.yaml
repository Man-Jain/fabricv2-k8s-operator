apiVersion: fabric.hyperledger.org/v1alpha1
kind: Peer
metadata:
  name: peer0-org2
spec:
  builderFileLoc: "/home/fabric/peer-files/bin"
  corePeer: "/home/fabric/peer-files/core.yaml"
  peerSpec:
    # To set up a peer node, a set of certs must be provided.
    # You may choose a set from your company's CA issued certs or
    # use Fabric CA to generate a set of certs. All fields of msp
    # and tls are required.
    # Certificates and private keys have to be base64 encoded
    # The values in this file are examples.
    msp:
      adminCerts: []
      caCerts: ["LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZlZ0F3SUJBZ0lRZXA4NTQ5Z1pYMHAxa2VZTnFQc0tqekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREV4TWpReU1UVXhNREJhRncwek1ERXhNakl5TVRVeE1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKTHhsSmNpUDhaL3EvYVJQZnVkeG9Qb1VxbUEvZDZOTm1JYmtrejdnSG9BMm5PMUcrNGZ5b2Y1QWZyRXZwK0xXQgp0ajBWRW11MVlWSVJZTUJOd0JBYkZhTnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQTkKN0VoTWs5eWRWam9ES1V6R0JKaWtYMjVtUG1FcGNncEREYk1KN1BZRTFqQUtCZ2dxaGtqT1BRUURBZ05JQURCRgpBaUVBM3kyOS9nSW1Ha1pQTlp1V1orRi9lZmlLVnVRWHAvR1VldUFBSjYvcWcxNENJQnFhckhxS2V3Y2ZWUGFSClZhT1lMS2RJcDE2WkJ6M0t3cjVYRnVxT2NicDAKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="]
      keyStore: "LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JR0hBZ0VBTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEJHMHdhd0lCQVFRZzFmQ29YUmZQSE1xZ3BubWMKbW53UHEvVjlURGEwYW5VSzRYaXNhcllIMVMraFJBTkNBQVM1bnBHRm1wcnpjTEVtZXRFb2YwOU5icm50MFNsTwpQTkpYbDlzQzdWWGNqRzZEc2ZMd0xhcnBSWWhYTDR0ZjBxeGt3cnRKUUpTcGk5VHMyNGc0dmxhMgotLS0tLUVORCBQUklWQVRFIEtFWS0tLS0tCg=="
      signCerts: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHekNDQWNLZ0F3SUJBZ0lRZStlenhsNFQ5Skx3bnhHbXFwSTM1VEFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREV4TWpReU1UVXhNREJhRncwek1ERXhNakl5TVRVeE1EQmEKTUY0eEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVEwd0N3WURWUVFMRXdSd1pXVnlNUk13RVFZRFZRUURFd3B3WldWeU1DMXZjbWN5Ck1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMERBUWNEUWdBRXVaNlJoWnFhODNDeEpuclJLSDlQVFc2NTdkRXAKVGp6U1Y1ZmJBdTFWM0l4dWc3SHk4QzJxNlVXSVZ5K0xYOUtzWk1LN1NVQ1VxWXZVN051SU9MNVd0cU5OTUVzdwpEZ1lEVlIwUEFRSC9CQVFEQWdlQU1Bd0dBMVVkRXdFQi93UUNNQUF3S3dZRFZSMGpCQ1F3SW9BZ1BleElUSlBjCm5WWTZBeWxNeGdTWXBGOXVaajVoS1hJS1F3MnpDZXoyQk5Zd0NnWUlLb1pJemowRUF3SURSd0F3UkFJZ0hzUWQKMkhyeGdCS0xxc1VlQWh3aWdtZGs3bFlLcEpiNUx4OG9xL3luNUR3Q0lBWW96SUkzWkFkYTZTU0xwS0VZaW5yWgpBdlNHVzBmOXRtY1R0ZUtCV25ONwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
      tlsCacerts: ["LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNXRENDQWY2Z0F3SUJBZ0lSQUo1VVBIMXJua1hVYksyR3RFbU5OZ0V3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpJdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpJdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBeE1USTBNakUxTVRBd1doY05NekF4TVRJeU1qRTEKTVRBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCRGEwRGd5ZDNad2dTdnJOSGdYTGJTZzNIRWlKNE9ISDNIYXdyZDVnWE5UWUxhMlQ2elY0blFpOQozQk9YNXJ1Z0dQWGRraXUwZjlaYS8yRllEMU9SZEYramJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWd1OGMwYUQxdkRaR1Z6ckdoOXN4NGNRZUJhZkFOMml4Rnk2S3QrTGl5bHlzd0NnWUlLb1pJemowRQpBd0lEU0FBd1JRSWdRSTlZYTNqSlFLWkhScm1EYUVBTnhBRXlkMXF6MkNSK0UycmJWclpyY2hJQ0lRQ0hjL002CkM5RmpWWHpNMWNCRzBtbjlSTGZibXJjb1N0YUpDelBSUUlVYVpnPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="]
      configFile: "Tm9kZU9VczoKICBFbmFibGU6IHRydWUKICBDbGllbnRPVUlkZW50aWZpZXI6CiAgICBDZXJ0aWZpY2F0ZTogY2FjZXJ0cy9jYWNlcnQwCiAgICBPcmdhbml6YXRpb25hbFVuaXRJZGVudGlmaWVyOiBjbGllbnQKICBQZWVyT1VJZGVudGlmaWVyOgogICAgQ2VydGlmaWNhdGU6IGNhY2VydHMvY2FjZXJ0MAogICAgT3JnYW5pemF0aW9uYWxVbml0SWRlbnRpZmllcjogcGVlcgogIEFkbWluT1VJZGVudGlmaWVyOgogICAgQ2VydGlmaWNhdGU6IGNhY2VydHMvY2FjZXJ0MAogICAgT3JnYW5pemF0aW9uYWxVbml0SWRlbnRpZmllcjogYWRtaW4KICBPcmRlcmVyT1VJZGVudGlmaWVyOgogICAgQ2VydGlmaWNhdGU6IGNhY2VydHMvY2FjZXJ0MAogICAgT3JnYW5pemF0aW9uYWxVbml0SWRlbnRpZmllcjogb3JkZXJlcgo="
    tls:
      tlsCert: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZhZ0F3SUJBZ0lSQUpaY2R0MzduSlZlb2pkckJUbGtrVGd3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpJdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpJdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBeE1USTBNakUxTVRBd1doY05NekF4TVRJeU1qRTEKTVRBd1dqQlBNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVRNQkVHQTFVRUF4TUtjR1ZsY2pBdGIzSm5NakJaTUJNR0J5cUdTTTQ5CkFnRUdDQ3FHU000OUF3RUhBMElBQk01V0JMdDZlUTE5S09tTkZxRDRHV0grd0JUYUxaTkJDbkxmY2pEd0ROZDcKbS9reEcxajNQTnFiMWdLNUd5QmRZMVV4ZnJqREZCQ0oyR05PbjdLdlhFYWpnWXN3Z1lnd0RnWURWUjBQQVFILwpCQVFEQWdXZ01CMEdBMVVkSlFRV01CUUdDQ3NHQVFVRkJ3TUJCZ2dyQmdFRkJRY0RBakFNQmdOVkhSTUJBZjhFCkFqQUFNQ3NHQTFVZEl3UWtNQ0tBSUx2SE5HZzlidzJSbGM2eG9mYk1lSEVIZ1dud0Rkb3NSY3VpcmZpNHNwY3IKTUJ3R0ExVWRFUVFWTUJPQ0NuQmxaWEl3TFc5eVp6S0NCWEJsWlhJd01Bb0dDQ3FHU000OUJBTUNBMGdBTUVVQwpJUUNsQnBxd1pyL1FiaE9OMXBjR1FsWUZXSjEveCtBUXM3TjhIb2ozeDE2Vk1RSWdiQnFTYkNiWjVKS05YY1BsCm03TGZRL2pCODFXODN4VFU0NVQycVg3Nllydz0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
      tlsKey: "LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JR0hBZ0VBTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEJHMHdhd0lCQVFRZ01yZHA1dSs2Uk1wWW4wQmUKSU4zMXZsQWZzakcyTzZTZ2ZON2orNjFuaVkyaFJBTkNBQVRPVmdTN2Vua05mU2pwalJhZytCbGgvc0FVMmkyVApRUXB5MzNJdzhBelhlNXY1TVJ0WTl6emFtOVlDdVJzZ1hXTlZNWDY0d3hRUWlkaGpUcCt5cjF4RwotLS0tLUVORCBQUklWQVRFIEtFWS0tLS0tCg=="
      tlsCaCert: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNXRENDQWY2Z0F3SUJBZ0lSQUo1VVBIMXJua1hVYksyR3RFbU5OZ0V3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpJdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpJdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBeE1USTBNakUxTVRBd1doY05NekF4TVRJeU1qRTEKTVRBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCRGEwRGd5ZDNad2dTdnJOSGdYTGJTZzNIRWlKNE9ISDNIYXdyZDVnWE5UWUxhMlQ2elY0blFpOQozQk9YNXJ1Z0dQWGRraXUwZjlaYS8yRllEMU9SZEYramJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWd1OGMwYUQxdkRaR1Z6ckdoOXN4NGNRZUJhZkFOMml4Rnk2S3QrTGl5bHlzd0NnWUlLb1pJemowRQpBd0lEU0FBd1JRSWdRSTlZYTNqSlFLWkhScm1EYUVBTnhBRXlkMXF6MkNSK0UycmJWclpyY2hJQ0lRQ0hjL002CkM5RmpWWHpNMWNCRzBtbjlSTGZibXJjb1N0YUpDelBSUUlVYVpnPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="

    nodeSpec:
      # To specify resource limits for this Peer node,
      # use kubernetes resource requirements spec
      # resources:
      #   requests:
      #     memory: "32Mi"
      #     cpu: "200m"
      #   limits:
      #     memory: "1024mi"
      #     cpu: "250"
      storageSize: "128Mi"
      storageClass: "standard"
      image: "hyperledger/fabric-peer:2.2.1"
      # Add all the configurable peer parameters as
      # name-value pairs
      ports: [9051]
      configParams:
        - name: CORE_PEER_ADDRESS
          value: peer0-org2:9051
        - name: CORE_PEER_CHAINCODEADDRESS
          value: peer0-org2:9052
        - name: CORE_PEER_CHAINCODELISTENADDRESS
          value: 0.0.0.0:9052
        - name: CORE_PEER_GOSSIP_BOOTSTRAP
          value: peer0-org2:9051
        - name: CORE_PEER_GOSSIP_EXTERNALENDPOINT
          value: peer0-org2:9051
        - name: CORE_PEER_ID
          value: peer0-org2
        - name: CORE_PEER_LISTENADDRESS
          value: 0.0.0.0:9051
        - name: CORE_PEER_LOCALMSPID
          value: Org2MSP
        - name: CORE_PEER_PROFILE_ENABLED
          value: "true"
        - name: CORE_PEER_TLS_CERT_FILE
          value: /etc/hyperledger/fabric/tls/server.crt
        - name: CORE_PEER_TLS_ENABLED
          value: "true"
        - name: CORE_PEER_TLS_KEY_FILE
          value: /etc/hyperledger/fabric/tls/server.key
        - name: CORE_PEER_TLS_ROOTCERT_FILE
          value: /etc/hyperledger/fabric/tls/ca.crt
        - name: CORE_VM_DOCKER_HOSTCONFIG_NETWORKMODE
          value: _test
        - name: CORE_VM_ENDPOINT
          value: tcp://docker:2375
        - name: FABRIC_LOGGING_SPEC
          value: DEBUG